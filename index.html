<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æœå¥ˆæ´¥å­¦åœ’ æ¬¢è¿é¡µ</title>
  <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
  <style>
    body {
      background: #07406a;
      margin: 0;
      padding: 0;
      font-family: 'Press Start 2P', 'PingFang SC', 'Microsoft YaHei', 'sans-serif';
      min-height: 100vh;
      overflow-x: hidden;
    }
    canvas#jellyCanvas {
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 1;
      pointer-events: none;
    }
    .music-btn {
      position: absolute;
      top: 18px;
      right: 20px;
      z-index: 10;
      background: rgba(255,255,255,0.93);
      border: none;
      border-radius: 50%;
      padding: 13px 17px 13px 17px;
      font-size: 25px;
      cursor: pointer;
      box-shadow: 0 0 8px #52e8ff7a;
      transition: background .18s;
    }
    .music-btn:hover { background: #dcf6ff; }
    .back-btn {
      position: absolute;
      top: 20px;
      left: 22px;
      z-index: 10;
      background: rgba(255,255,255,0.9);
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 18px;
      color: #2a3191;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 8px #8ed6f4aa;
      display: none;
      transition: background .16s;
    }
    .back-btn.show { display: block; }
    .main-container {
      position: relative;
      z-index: 2;
      width: 100vw;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: auto;
    }
    .welcome-arc {
      width: 480px;
      height: 130px;
      margin: 0 auto 18px auto;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      position: relative;
      user-select: none;
    }
    .welcome-arc span {
      display: inline-block;
      font-family: inherit;
      font-size: 46px;
      font-weight: bold;
      margin: 0 4px;
      text-shadow:
        0 2px 8px #fff6,
        0 0 22px currentColor,
        1px 4px 8px #0002;
      position: relative;
      animation: bounce-arc 1.6s cubic-bezier(.4,1.6,.68,1.06) infinite;
    }
    .welcome-arc span:nth-child(1) { color:#ff3b30; transform: rotate(-26deg) translateY(16px); animation-delay: 0s;}
    .welcome-arc span:nth-child(2) { color:#ff9500; transform: rotate(-17deg) translateY(8px); animation-delay: 0.12s;}
    .welcome-arc span:nth-child(3) { color:#ffd600; transform: rotate(-8deg)  translateY(2px); animation-delay: 0.22s;}
    .welcome-arc span:nth-child(4) { color:#4cd964; transform: rotate(0deg)   translateY(-4px);animation-delay: 0.34s;}
    .welcome-arc span:nth-child(5) { color:#5ac8fa; transform: rotate(8deg)   translateY(2px); animation-delay: 0.22s;}
    .welcome-arc span:nth-child(6) { color:#007aff; transform: rotate(17deg)  translateY(8px); animation-delay: 0.12s;}
    .welcome-arc span:nth-child(7) { color:#af52de; transform: rotate(26deg)  translateY(16px);animation-delay: 0s;}
    @keyframes bounce-arc {
      0%,100% { filter: brightness(1) drop-shadow(0 0 8px #fff7); }
      20%     { filter: brightness(1.18) drop-shadow(0 0 16px #fff); }
      40%     { transform: translateY(-10px) scale(1.1) rotate(var(--angle,0deg)); filter: brightness(1.25) drop-shadow(0 0 28px #fff); }
      60%     { filter: brightness(1.12) drop-shadow(0 0 18px #fff6);}
    }
    .school-title {
      font-size: 46px;
      color: #f1f1f1;
      font-weight: bold;
      letter-spacing: 8px;
      margin-bottom: 8px;
      text-shadow: 2px 2px 8px #014070;
    }
    .school-en {
      font-size: 25px;
      color: #e2e2e2;
      margin-bottom: 32px;
      letter-spacing: 4px;
    }
    .button-row {
      display: flex;
      gap: 38px;
      margin-bottom: 0;
    }
    .main-btn {
      background: rgba(13,60,133,0.86);
      border: 2.2px solid #35ffe3;
      color: #fff;
      font-size: 25px;
      padding: 18px 40px;
      border-radius: 13px;
      cursor: pointer;
      box-shadow: 0 0 10px #1bfff580;
      font-family: inherit;
      outline: none;
      pointer-events: auto;
      transition: 0.16s;
    }
    .main-btn:hover {
      background: #13c5f6;
      color: #084065;
      box-shadow: 0 0 18px #fff, 0 0 30px #3df9fa;
    }
    .input-area {
      margin-top: 32px;
      display: flex;
      align-items: center;
      gap: 16px;
      pointer-events: auto;
    }
    .input-name {
      font-size: 22px;
      color: #fff;
      background: #077;
      border: 2px solid #44ffe2;
      border-radius: 8px;
      padding: 12px 18px;
      outline: none;
      font-family: inherit;
    }
    .hidden { display: none; }
    /* ä¸»é¡µé¢éƒ¨åˆ† */
    .mainPage-content {
      padding: 44px 10vw 32px 10vw;
      background: rgba(245,248,255,0.94);
      border-radius: 22px;
      margin-top: 34px;
      max-width: 980px;
      margin-left:auto; margin-right:auto;
      box-shadow: 0 6px 32px #13477117;
      position: relative;
    }
    .big-welcome {
      font-size: 34px;
      color: #2a3191;
      font-weight: bold;
      letter-spacing: 2.2px;
      margin-bottom: 22px;
      text-align: center;
      text-shadow: 1px 3px 12px #8ecaff88;
    }
    .scroll-logs {
      background: #d1ebffbb;
      border-radius: 8px;
      margin: 0 auto 22px auto;
      padding: 11px 20px;
      font-size: 17px;
      color: #173778;
      height: 34px;
      width: 97%;
      overflow: hidden;
      white-space: nowrap;
      box-shadow: 0 2px 10px #e7f4ff55;
      position: relative;
      border: 1.2px dashed #b3ddff;
    }
    .log-txt {
      display: inline-block;
      animation: logScroll 13s linear infinite;
    }
    @keyframes logScroll {
      from { transform: translateX(95%);}
      to { transform: translateX(-110%);}
    }
    .sections-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 26px;
      margin-bottom: 30px;
    }
    .section-card {
      background: linear-gradient(135deg,#f6f8fc 60%, #e3e8fd 100%);
      box-shadow: 0 6px 20px #b8d1ff22;
      border-radius: 14px;
      padding: 24px 16px 16px 16px;
      cursor: pointer;
      transition: box-shadow 0.2s,transform 0.2s;
      position: relative;
      min-height: 94px;
      margin-bottom: 8px;
    }
    .section-card:hover {
      box-shadow: 0 8px 30px #31caff66,0 0 0 #fff0;
      transform: scale(1.035);
    }
    .section-title {
      font-size: 21px;
      font-weight: bold;
      color: #3b379c;
      margin-bottom: 7px;
      text-decoration: underline;
      letter-spacing: 1px;
      user-select: none;
    }
    .section-detail, .faq-detail, .note-detail, .star-detail {
      display: none;
      margin-top: 12px;
      font-size: 15px;
      color: #26396e;
      background: #e9f0ffcc;
      border-radius: 8px;
      padding: 14px 12px 8px 12px;
      box-shadow: 0 2px 7px #c4e1ff18;
    }
    .section-card.active .section-detail,
    .section-card.active .faq-detail,
    .section-card.active .note-detail,
    .section-card.active .star-detail {
      display: block;
      animation: appear 0.36s;
    }
    @keyframes appear { from {opacity:0;transform:translateY(28px);} to {opacity:1;transform:translateY(0);} }
    /* äººè®¾å¡ç‰‡ */
    .star-title {
      font-size: 18px;
      color: #ff39c3;
      font-weight: bold;
      letter-spacing: 2px;
      animation: shine 1.7s infinite alternate;
      margin-bottom: 6px;
    }
    @keyframes shine { 
      from { filter: drop-shadow(0 0 8px #ffbaff) brightness(1);}
      to   { filter: drop-shadow(0 0 26px #ff9ffa) brightness(1.16);}
    }
    .person-card {
      margin: 8px 0 10px 0;
      border-left: 3.5px solid #b9d6f8;
      padding-left: 10px;
      background: #f4f8ffbb;
      border-radius: 6px;
      font-size: 15px;
      line-height: 1.7;
    }
    /* ä¾¿åˆ©è´´ */
    .note-bar {
      display: flex;
      gap: 12px;
      margin-bottom: 0;
    }
    .note-brief {
      background: #f7eeac;
      border-radius: 7px;
      color: #6c5500;
      font-size: 15px;
      margin-bottom: 0;
      padding: 8px 12px;
      box-shadow: 0 2px 10px #efdfa080;
      border: 1.5px dashed #e0c44499;
      cursor: pointer;
      flex: 1;
      text-align: center;
      transition: transform .13s;
      user-select: none;
    }
    .note-brief:hover { transform: scale(1.07);}
    .note-detail {
      text-align: left;
      background: #fffde7;
      color: #5b5200;
      font-size: 15px;
      margin-top: 12px;
      border: 1.5px solid #ffe174cc;
      box-shadow: 0 2px 12px #eadaaa80;
      padding: 13px 20px;
    }
    /* FAQåŠ©æ‰‹ */
    .faq-bar { margin-bottom: 0;}
    .faq-q {
      font-weight: bold;
      color: #367aaa;
      cursor: pointer;
      text-decoration: underline dotted;
      margin-bottom: 2px;
      font-size: 15px;
      user-select: none;
    }
    .faq-q:hover { color: #ff70b8;}
    .faq-detail {
      margin: 6px 0 8px 0;
      color: #2459a9;
      background: #e9f0ffcc;
      border-radius: 8px;
      padding: 13px 16px 8px 12px;
      font-size: 15px;
    }
    .footer-random {
      margin: 18px auto 4px auto;
      text-align: center;
    }
    .footer-random button {
      background: linear-gradient(90deg,#c6f1fe 50%,#edccf7 100%);
      border: none;
      color: #264084;
      font-size: 16px;
      border-radius: 9px;
      padding: 9px 22px;
      box-shadow: 0 2px 12px #a7e3fc66;
      cursor: pointer;
      transition: box-shadow 0.18s;
      font-weight: bold;
      margin-top: 4px;
    }
    .footer-random button:hover {
      box-shadow: 0 8px 22px #9cbee7aa;
      background: linear-gradient(90deg,#f4e8ff 0%,#bbeaff 100%);
      color: #772b92;
    }
    .quote {
      margin-top: 9px;
      color: #5622b6;
      font-size: 18px;
      min-height: 24px;
      font-style: italic;
      letter-spacing: 1.1px;
    }
  </style>
</head>
<body>
<canvas id="jellyCanvas"></canvas>
<audio id="bgMusic" loop src="good-night-lofi-cozy-chill-music-160166.mp3"></audio>
<button id="musicBtn" class="music-btn" onclick="toggleMusic()">ğŸµ</button>
<button id="backBtn" class="back-btn" onclick="showWelcome()">è¿”å›é¦–é¡µ</button>
<div class="main-container" id="mainUI">
  <div class="welcome-arc">
    <span>W</span><span>E</span><span>L</span><span>C</span><span>O</span><span>M</span><span>E</span>
  </div>
  <div class="school-title">æœå¥ˆæ´¥å­¦åœ’</div>
  <div class="school-en">SHIONATSU GAKUEN</div>
  <div class="button-row" id="btnRow">
    <button class="main-btn" onclick="showInput()">å­¦ç”Ÿãƒ­ã‚°ã‚¤ãƒ³</button>
    <button class="main-btn" onclick="showInput()">æ•™èŒå“¡ãƒ­ã‚°ã‚¤ãƒ³</button>
  </div>
  <div class="input-area hidden" id="inputArea">
    <label for="nameInput" style="color:#d6ffff;font-size:18px;">è¾“å…¥åå­—ï¼š</label>
    <input type="text" id="nameInput" class="input-name" placeholder="è¯·è¾“å…¥ä»»æ„å­—ç¬¦">
    <button class="main-btn" onclick="enterMain()">è¿›å…¥</button>
  </div>
</div>
<script>// æ§åˆ¶éŸ³é¢‘
function toggleMusic() {
  const audio = document.getElementById('bgMusic');
  const btn = document.getElementById('musicBtn');
  if (audio.paused) {
    audio.play();
    btn.textContent = 'ğŸµ';
  } else {
    audio.pause();
    btn.textContent = 'ğŸ”‡';
  }
}
// æ˜¾ç¤ºè¾“å…¥åŒº
function showInput() {
  document.getElementById('btnRow').classList.add('hidden');
  document.getElementById('inputArea').classList.remove('hidden');
}
// è¿”å›æ¬¢è¿é¡µ
function showWelcome() {
  document.getElementById('backBtn').classList.remove('show');
  document.getElementById('mainUI').innerHTML = `
    <div class="welcome-arc">
      <span>W</span><span>E</span><span>L</span><span>C</span><span>O</span><span>M</span><span>E</span>
    </div>
    <div class="school-title">æœå¥ˆæ´¥å­¦åœ’</div>
    <div class="school-en">SHIONATSU GAKUEN</div>
    <div class="button-row" id="btnRow">
      <button class="main-btn" onclick="showInput()">å­¦ç”Ÿãƒ­ã‚°ã‚¤ãƒ³</button>
      <button class="main-btn" onclick="showInput()">æ•™èŒå“¡ãƒ­ã‚°ã‚¤ãƒ³</button>
    </div>
    <div class="input-area hidden" id="inputArea">
      <label for="nameInput" style="color:#d6ffff;font-size:18px;">è¾“å…¥åå­—ï¼š</label>
      <input type="text" id="nameInput" class="input-name" placeholder="è¯·è¾“å…¥ä»»æ„å­—ç¬¦">
      <button class="main-btn" onclick="enterMain()">è¿›å…¥</button>
    </div>
  `;
}

// è¿›å…¥ä¸»é¡µé¢
function enterMain() {
  let name = document.getElementById('nameInput').value.trim();
  document.getElementById('mainUI').innerHTML = `
    <div class="mainPage-content">
      <div class="big-welcome">æ¬¢è¿æ¥åˆ°æœå¥ˆæ´¥å­¦åœ’ï¼Œ<span>${name || 'åŒ¿å'}</span>ï¼</div>
      <div class="scroll-logs">
        <span class="log-txt" id="logText">åŠ›é‡ä¸æ˜¯ä¸ºäº†éª„å‚²ï¼Œè€Œæ˜¯åº”è¯¥è¢«ç†è§£çš„ã€‚</span>
      </div>
      <div class="sections-grid">
        <!-- æ ¡å›­ä»‹ç» -->
        <div class="section-card" onclick="toggleDetail(this)">
          <div class="section-title">ğŸ« æ ¡å›­ä»‹ç»</div>
          <div class="section-detail">
            <b>æ ¡åï¼š</b>æœå¥ˆæ´¥å­¦åœ’<br>
            <b>è¯¾ç¨‹è®¾ç½®ï¼š</b>å„ç­çº§å‡å¼€è®¾å›½è¯­ã€æ•°å­¦ã€å¤–è¯­ã€å†å²ã€å…¬æ°‘äº”å¤§å¸¸è§„è¯¾ç¨‹ï¼Œä¸Šè¯¾é¢‘ç‡ä¸º1å‘¨2æ¬¡ã€‚æ­¤å¤–ï¼Œä¾æ®å„ç­çº§ç‰¹è‰²å¯¹ä»¥ä¸‹è¯¾ç¨‹ä½œå‡ºç‰¹æ®Šå®‰æ’ï¼š
åŒ–å­¦è¯¾ï¼šã€Œå…ƒç´ ç³»ã€æ¯å‘¨è¯¾æ—¶6èŠ‚ï¼Œå…¶ä½™ç­çº§æ¯å‘¨è¯¾æ—¶2èŠ‚ï¼Œåˆ†åˆ«ç”±ä¸¤ä½ç ”ç©¶å‘˜æ•™å¸ˆæ‹…ä»»æ•™å­¦ï¼Œå…ƒç´ ç³»åŒ–å­¦æ•™å¸ˆå…¼ä»»ç­ä¸»ä»»èŒåŠ¡ã€‚åç‰Œç•¥å†™ä¸ºå…ƒç´ ç³»-ç­ä¸»ä»»ã€‚

ç”Ÿç‰©è¯¾ï¼šã€ŒåŠ¨ç‰©ç³»ã€æ¯å‘¨è¯¾æ—¶6èŠ‚ï¼Œå…¶ä½™ç­çº§æ¯å‘¨è¯¾æ—¶2èŠ‚ï¼Œåˆ†åˆ«ç”±ä¸¤ä½ç ”ç©¶å‘˜æ•™å¸ˆæ‹…ä»»æ•™å­¦ã€‚åŠ¨ç‰©ç³»ç”Ÿç‰©æ•™å¸ˆå…¼ä»»ç­ä¸»ä»»èŒåŠ¡ã€‚åç‰Œç•¥å†™ä¸ºç”Ÿç‰©ç³»-ç­ä¸»ä»»ã€‚

å¿ƒç†è¯¾ï¼šã€Œå¿ƒç†ç³»ã€æ¯å‘¨è¯¾æ—¶6èŠ‚ï¼Œå…¶ä½™ç­çº§æ¯å‘¨è¯¾æ—¶2èŠ‚ï¼Œåˆ†åˆ«ç”±ä¸¤ä½ç ”ç©¶å‘˜æ•™å¸ˆæ‹…ä»»æ•™å­¦ã€‚å¿ƒç†ç³»å¿ƒç†æ•™å¸ˆå…¼ä»»ç­ä¸»ä»»èŒåŠ¡ã€‚åç‰Œç•¥å†™ä¸ºå¿ƒç†ç³»-ç­ä¸»ä»»ã€‚

å„ç­çº§äºæ¯å‘¨äºŒã€å‘¨å››è¿›è¡Œ1æ¬¡ä½“æ£€<br>
            <b>åŠå­¦ç‰¹è‰²ï¼š</b>æ‰“ç ´ä¼ ç»Ÿå¹´çº§åŒºåˆ†ã€‚é€šè¿‡ä¸ªäººèƒ½åŠ›ç§ç±»è¿›è¡Œåˆ†ç­ï¼Œå„å¹´é¾„æ®µå‡å¤„äºåŒä¸€ç­çº§ç»Ÿä¸€æ•™å­¦ã€‚å­¦å›­å®è¡Œå¯„å®¿åˆ¶ï¼Œæ— ç‰¹æ®Šæƒ…å†µä¸å¾—ç¦»æ ¡ã€‚<br>
            <b>ä½ç½®ï¼š</b>åŸç¥æˆ·ç¬¬äºŒç ”ç©¶æ‰€
          </div>
        </div>
        <!-- é£é‡‡å±•ç¤ºï¼ˆå…­æœˆä¹‹æ˜Ÿï¼‰ -->
        <div class="section-card" onclick="toggleDetail(this)">
          <div class="section-title">ğŸª½ é£é‡‡å±•ç¤º</div>
          <div class="star-detail">
            <div class="star-title">å…­æœˆä¹‹æ˜Ÿ</div>
            <div class="person-card">
              <b>å§“å:</b> å†´å²›ç¡«èŠ±<br>
              <b>æ€§åˆ«:</b> å¥³<br>
              <b>å¹´é¾„:</b> 25<br>
              <b>ç­çº§:</b> å…ƒç´ ç³»-ç­ä¸»ä»»<br>
              <b>çˆ±å¥½ä¸ç‰¹é•¿:</b> æ²¡æœ‰ç‰¹é•¿å’Œæ“…é•¿ä»»ä½•äº‹ä¼¼ä¹æ˜¯åŒä¸€ä¸ªæ¦‚å¿µã€‚<br>
              <b>ç®€ä»‹:</b> 1996å¹´ï¼šæ—¥æœ¬åŒ–å­¦ä¼šä¼˜ç§€ä¿®å£«è®ºæ–‡å¥–ï¼Œ1998å¹´ï¼šã€Œè¤‡åˆåˆ†å­æ§‹é€ ã«ãŠã‘ã‚‹æ–°è¦çµåˆæ‰‹æ³•ã€è·é€‰æ—¥æœ¬é«˜åˆ†å­ç§‘å­¦å¹´ä¼šç‰¹åˆ«å‘è¡¨è®ºæ–‡ï¼Œ2000å¹´ï¼Œå­¦å›­ç¬¬ä¸€å±Šã€Œåé£Ÿå§ï¼èéº¦é¢ï¼ã€å¤§èµ›å† å†›ã€‚<br>
              <b>å®£è¨€:</b> ä¿¡ä»»æœ€é«˜ á•¦( Ë˜á´—Ë˜ )á•¤<br>
            </div> 
          </div>
        </div>
        <!-- ä¾¿åˆ©è´´å¢™ -->
        <div class="section-card" onclick="toggleNoteBar(this)">
          <div class="section-title">ğŸ“’ ç•™è¨€æ¿</div>
          <div class="note-bar">
            <div class="note-brief" onclick="event.stopPropagation();showNoteDetail(0)">â€œã€æ€¥å‹Ÿã€‘è°æ¥é˜»æ­¢ä¸‹æˆ‘çš„èˆå‹ï¼?â€</div>
            <div class="note-brief" onclick="event.stopPropagation();showNoteDetail(1)">â€œå…ƒç´ ç³»æœŸæœ«å®éªŒçˆ†ç‚¸ï¼åŠ©ç†å›è½¬ç”Ÿä¸ºé£è¡Œå‘˜ï¼Ÿâ€</div>
            <div class="note-brief" onclick="event.stopPropagation();showNoteDetail(2)">â€œã€å’¨è¯¢ã€‘ç²¾ç¥ç³»çš„åŒå­¦åœ¨æ¢¦é‡Œç»™æˆ‘ç©¿å¥³ä»†æœçš„äº‹â€</div>
            <div class="note-brief" onclick="event.stopPropagation();showNoteDetail(3)">â€œå¥³ç”Ÿå®¿èˆçš„æ´—è¡£æœºé‡ŒèŒç”Ÿäº†äººæ ¼ï¼Ÿæ­£åœ¨éšæ„åŒºåˆ†è¡£æœçš„é¢œè‰²â€</div>
          </div>
          <div class="note-detail" id="noteDetailBox" style="display:none;"></div>
        </div>
        <!-- å°våŠ©æ‰‹ -->
        <div class="section-card" onclick="toggleDetail(this)">
          <div class="section-title">ğŸ¤– å°våŠ©æ‰‹åŒº</div>
          <div class="faq-bar">
            <div class="faq-q" onclick="event.stopPropagation();showFaqDetail(0)">Q: ä¸èƒ½å‡ºæ ¡ï¼Œæˆ‘æƒ³è¦è²·åˆâ˜†é“æ³¡éºµæ€éº¼è¾¦ï¼Ÿ</div>
            <div class="faq-detail" style="display:none;">A: æ ¡å…§æœ‰å°ˆé–€çš„é‡‡æ´¾äººå“¡ã€‚æ¯é€±çµ±ä¸€é€²è¡Œé‡‡è²·ã€‚</div>
            <div class="faq-q" onclick="event.stopPropagation();showFaqDetail(1)">Q: æˆ‘ç”Ÿç—…äº†è‚šå­ç—›ï¼Œè©²æ€éº¼è¾¦ï¼Ÿ</div>
            <div class="faq-detail" style="display:none;">A: æ•™å­¸æ¨“ä¸€æ¨“å·¦æ‹å‰å¾€é†«å‹™å®¤ã€‚</div>
            <div class="faq-q" onclick="event.stopPropagation();showFaqDetail(2)">Q: ä»€éº¼æ˜¯ã€ŒViviã€ï¼Ÿ</div>
            <div class="faq-detail" style="display:none;">A: å­¸åœ’å†…ç½®å•ç­”æ©Ÿå™¨äººï¼Œè©²ç³»çµ±ç”±ç ”ç©¶å“¡ æ©˜ ç¨å®¶ç ”ç™¼ã€‚</div>
          </div>
        </div>
      </div>
      <div class="footer-random">
        <button onclick="randomLucky()">ç‚¹æˆ‘è·å¾—ä»Šæ—¥å¹¸è¿å åœ</button>
        <div class="quote" id="luckyWord"></div>
      </div>
    </div>
  `;
  document.getElementById('backBtn').classList.add('show');
  startLogScroll();
}

// åˆ†åŒºå±•å¼€é€»è¾‘
function toggleDetail(card) {
  let all = document.querySelectorAll('.section-card');
  all.forEach(c=>{ if(c!==card) c.classList.remove('active'); });
  card.classList.toggle('active');
}

// noteæ¿å±•å¼€é€»è¾‘
function toggleNoteBar(card) {
  let all = document.querySelectorAll('.section-card');
  all.forEach(c=>{ if(c!==card) c.classList.remove('active'); });
  card.classList.toggle('active');
  document.getElementById('noteDetailBox').style.display = 'none';
}
function showNoteDetail(idx) {
  const notes = [
    "â€œåŠ¨ç‰©ç³»çš„æˆ‘çš„å®¤å‹ï¼ˆçŒ«ç³»ï¼‰ï¼Œæ˜¨æ™šåˆå€’ç€çˆ¬å¢™çš„äº‹......è€Œä¸”å…‰ç€è„š.....çœŸçš„åˆ«è¿™æ ·å•Šï¼ï¼Ÿâ€",
    "â€œæœ¬è¯¥å­¦ä¹ æ°´è’¸æ°”çš„å†åˆ©ç”¨....ä½†æ˜¯æ°§æ°”ç“¶å€’ä¸‹äº†ï¼é…’ç²¾ç¯å€’ä¸‹äº†ï¼ï¼Ÿç„¶åæœ‰äººæ‹¿ç€çš„æ°¢æ°”æ°”çƒ...ç»“æœæ•™å®¤å¤§é—¨å®Œå…¨é£èµ°äº†ï¼ğŸ’§å·¨å¤§çš„å£°éŸ³å’Œè¶…é«˜é€Ÿè¿åŠ¨é—¨è¢­å‡»äº†åŠ©ç†å›..åƒåœ¨é©¾é©¶æˆ˜æ–—æœºä¸€æ ·wwâ€",
    "â€œä»–è¯´ï¼Œã€Œä½ ç©¿ç€å¥³ä»†æœè¯´'ç…§çƒ§é²­é±¼å¥—é¤ï¼Œä¸»äººâ™¡ã€ã€‚...è¯¥æ€æ ·åœ¨æ¢¦é‡Œåå‡»å‘¢ï¼Ÿâ€",
    "â€œæŠ¥å‘Šè¯´é»‘è‰²å†…è¡£å’Œç°è‰²è¢œå­åœ¨åŒä¸€ä¸ªç¯®å­é‡Œï¼Œåªæœ‰ç™½è‰²åˆ¶æœè¢«çƒ­æ°´æ´—äº†ã€‚æ˜¯ç²¾ç¥ç³»çš„å½±å“ï¼Œè¿˜æ˜¯æŸäººçš„å®éªŒç»“æœ...ï¼Ÿâ†’ä½œä¸ºå¯¹ç­–ï¼šåœ¨æ´—è¡£æœºä¸Šè´´ä¸Šâ€œæˆ‘ä¸æ˜¯å®éªŒå“ï¼â€çš„è´´çº¸ã€‚â€"
  ];
  let noteBox = document.getElementById('noteDetailBox');
  noteBox.textContent = notes[idx];
  noteBox.style.display = 'block';
}

// FAQé€»è¾‘
function showFaqDetail(idx) {
  let details = document.querySelectorAll('.faq-detail');
  details.forEach((d,i)=>{ d.style.display = i===idx ? 'block' : 'none'; });
}

// å¹¸è¿å åœ
const luckyWords = [
  "ç…§çƒ§é¸¡æ‰’è›‹åŒ…é¥­", "å’–å–±é±¼é¥¼", "ä¸­åå°ç¬¼åŒ…", "åœ°ç‹±å‰çƒ§æ‹‰é¢", "å¥¶æ²¹æ„é¢æ²™æ‹‰æ¯",
  "ç‚’é¢é¢åŒ…", "å“ˆå¯†ç“œæ±½æ°´åœ£ä»£", "Vivi", "ç§˜åˆ¶å¯ä¹é¥¼", "èŠå£«å¤¹å¿ƒæ±‰å ¡æ’",
  "ç‰å­çƒ§", "é…±æ±ç‚¸çŒªæ’ç›–é¥­", "æ„å¤§åˆ©æ³¢èæŠ«è¨", "èµ·å¸æ±‰å ¡åŒ…", "å¤§é˜ªçƒ§",
  "èœœæ±çº¢è±†çƒ§", "ç•ªèŒ„é…±é“æ¿ç›–é¥­", "è‰è“å¯ä¸½é¥¼", "æ²™ä¸é±¼å‡‰é¢", "æ°´æœå¥¶æ²¹ä¸‰æ˜æ²»"
];
function randomLucky(){
  let idx = Math.floor(Math.random()*luckyWords.length);
  document.getElementById('luckyWord').textContent = "ä»Šæ—¥å¹¸è¿å åœï¼š" + luckyWords[idx];
}

// æ—¥å¿—æ»šåŠ¨ï¼ˆæ›´æ…¢ï¼‰
let logScrollTimer = null;
function startLogScroll() {
  clearTimeout(logScrollTimer);
  const logs = [
    "åŠ›é‡ä¸æ˜¯ä¸ºäº†éª„å‚²ï¼Œè€Œæ˜¯åº”è¯¥è¢«ç†è§£çš„å­˜åœ¨ã€‚      ",
    "ä¸ºäº†è¢«ç†è§£ï¼Œé¦–å…ˆå¿…é¡»æ˜¯è¢«ä¿¡ä»»çš„å­˜åœ¨ã€‚      ",
    "ã€é€šå‘Šã€‘æœ¬å‘¨å…­ä½“æ£€é¡¹ç›®å°†å¢åŠ â€œå…‰æ„Ÿç¨³å®šæ€§æµ‹è¯•â€ï¼Œè¯·ä¿æŒé¥®é£Ÿè§„å¾‹ã€‚      ",
    "ã€é€šå‘Šã€‘è¿‘æœŸå¶å‘å’³å—½ä¸å¤´ç—›æ¡ˆä¾‹å¹¶éæ„ŸæŸ“æ€§ç–¾ç—…ï¼Œ å¦‚æœ‰èº«ä½“ä¸é€‚è¯·åŠæ—¶å°±åŒ»ã€‚      ",
    "ã€å°væç¤ºã€‘2000å¹´åº¦å¤æ—¥ç¥­å³å°†å¼€å±•ï¼      ",
    "      "
  ];
  let logIdx = 0;
  const logBox = document.getElementById('logText');
  function scrollLog(){
    logBox.textContent = logs[logIdx];
    logBox.style.animation = 'none';
    logBox.offsetHeight; // reflow
    logBox.style.animation = null;
    logIdx = (logIdx+1)%logs.length;
    logScrollTimer = setTimeout(scrollLog, 13000);
  }
  scrollLog();
}

// æ°´æ¯åŠ¨ç”»
const jellySrc = 'jellyfish_cleaned.png'; 
const jellyNum = 8;
const jellyImgs = [];
let loaded = 0;
for(let i=0; i<jellyNum; i++){
  const img = new Image();
  img.src = jellySrc;
  img.onload = () => loaded++;
  jellyImgs.push(img);
}
const canvas = document.getElementById('jellyCanvas');
const ctx = canvas.getContext('2d');
let w = window.innerWidth, h = window.innerHeight;
function resize() {
  w = window.innerWidth;
  h = window.innerHeight;
  canvas.width = w;
  canvas.height = h;
}
window.addEventListener('resize', resize);
resize();
let jellies = [];
function resetJelly(i) {
  const scale = 0.36 + Math.random() * 0.35;
  return {
    x: Math.random() * w,
    y: h + 100 + Math.random()*300,
    speedY: 0.09 + Math.random() * 0.14,
    amp: 15 + Math.random()*32,
    freq: 0.002 + Math.random()*0.001,
    t: Math.random() * 3000,
    scale,
    opacity: 0.70 + Math.random()*0.19
  }
}
function initJellies() {
  jellies = [];
  for(let i=0; i<jellyNum; i++) jellies.push(resetJelly(i));
}
initJellies();
function drawJellies(ts) {
  ctx.clearRect(0,0,w,h);
  for(let i=0; i<jellyNum; i++) {
    if(!jellyImgs[i].complete) continue;
    const j = jellies[i];
    const img = jellyImgs[i];
    const dx = Math.sin(j.t * j.freq) * j.amp;
    ctx.save();
    ctx.globalAlpha = j.opacity;
    ctx.translate(j.x + dx, j.y);
    ctx.scale(j.scale, j.scale);
    ctx.drawImage(img, -img.width/2, -img.height/2);
    ctx.restore();
    j.y -= j.speedY;
    j.t += 7;
    if(j.y < -120) {
      Object.assign(j, resetJelly(i));
      j.y = h + 100 + Math.random()*100;
    }
  }
  requestAnimationFrame(drawJellies);
}
let started = false;
function startAnim() {
  if(loaded >= jellyNum && !started){
    started = true;
    drawJellies();
  } else if(!started) {
    setTimeout(startAnim, 70);
  }
}
startAnim();

// è‡ªåŠ¨æ’­æ”¾éŸ³ä¹
window.onload = function(){
  document.getElementById('bgMusic').volume = 0.55;
  document.getElementById('bgMusic').play().catch(()=>{});
}
</script>
</body>
</html>
